# 快速开始指南

## 🚀 5分钟快速部署

### 第一步：初始化数据库

```bash
# 登录 MySQL
mysql -u root -pTest@123456

# 删除旧数据库（如果存在）
DROP DATABASE IF EXISTS bug_management;

# 退出
exit

# 执行初始化脚本
mysql -u root -pTest@123456 < backend/init_db.sql
```

### 第二步：启动服务

```bash
# 在 bug-server 目录下执行
./start_all.sh
```

等待启动完成（约 30 秒），看到以下信息表示成功：

```
后端服务启动中... 端口: 43211
前端服务启动中... 端口: 11234
按 Ctrl+C 可以停止所有服务
```

### 第三步：访问系统

打开浏览器访问：**http://localhost:11234**

## 🎯 首次登录

### 方式1：未登录浏览（游客模式）
- 直接打开网页，无需登录
- ✅ 可以查看所有数据
- ❌ 不能进行任何修改操作

### 方式2：管理员登录
点击右上角"登录"按钮，输入：

```
用户名：admin
密码：admin
```

登录成功后：
- ✅ 拥有所有权限
- ✅ 可以管理用户
- ✅ 可以新建、编辑、删除项目和缺陷

## 📝 常用操作

### 1. 修改密码
1. 登录后点击右上角用户名
2. 选择"修改密码"
3. 输入旧密码：`admin`
4. 输入新密码（至少 6 位）
5. 确认新密码
6. 修改成功后重新登录

### 2. 创建新用户（管理员权限）
1. 进入"用户管理"页面
2. 点击"新建用户"
3. 填写信息：
   - 用户名：zhangsan
   - 邮箱：zhangsan@company.com
   - 显示名称：张三
   - 角色：开发
   - 状态：活跃
4. 保存（无需填写密码，默认密码为用户名）
5. 新用户使用 `zhangsan` / `zhangsan` 登录

### 3. 创建项目
1. 进入"项目管理"页面
2. 点击"新建项目"
3. 填写项目信息：
   - 项目名称：电商平台
   - 项目Key：ECOM（大写字母）
   - 负责人：张三
   - 描述：公司电商平台项目
4. 保存

### 4. 创建缺陷
1. 进入"缺陷列表"页面
2. 点击"新建缺陷"
3. 填写缺陷信息：
   - 项目：选择刚创建的项目
   - 标题：登录页面无法输入密码
   - 类型：缺陷
   - 优先级：严重
   - 指派给：选择开发人员
   - 描述：详细描述问题
4. 保存

### 5. 查看统计
1. 进入"统计分析"页面
2. 选择项目
3. 查看各种维度的统计图表

## 🔐 测试不同角色权限

系统只预置了管理员账号，其他角色需要管理员创建。

### 管理员（admin）
```
用户名：admin
密码：admin
```
- ✅ 所有权限

### 创建其他角色用户

管理员登录后，在"用户管理"页面创建：

#### 产品经理（product）
- 角色：产品
- 权限：✅ 管理项目和缺陷，❌ 无法管理用户

#### 开发人员（developer）
- 角色：开发
- 权限：✅ 管理项目和缺陷，❌ 无法管理用户

#### 测试人员（tester）
- 角色：测试
- 权限：✅ 管理项目和缺陷，❌ 无法管理用户

#### 游客（guest）
- 角色：游客
- 权限：📖 只能查看，无任何修改权限

## 🛑 停止服务

```bash
# 方式1：在启动窗口按 Ctrl+C

# 方式2：执行停止脚本
./stop_all.sh
```

## ❓ 常见问题

### Q1: 启动失败，提示端口被占用？
```bash
# 查找占用端口的进程
lsof -i :11234
lsof -i :43211

# 杀死进程
kill -9 <PID>
```

### Q2: 数据库连接失败？
检查：
1. MySQL 服务是否启动
2. 密码是否正确（`Test@123456`）
3. `backend/config.py` 中的配置是否正确

### Q3: 前端页面空白？
1. 清除浏览器缓存
2. 检查浏览器控制台是否有错误
3. 确认后端服务是否正常运行

### Q4: 忘记密码怎么办？
使用其他管理员账号登录，或直接在数据库中重置：

```sql
USE bug_management;
-- 重置 admin 密码为 admin@example.com
UPDATE users 
SET password = '$2b$12$qxz.ShubJWI5BZTwXNdZXex5sqGd2zjus8Jr4ob3U9AWvPv.AYlbe' 
WHERE username = 'admin';
```

### Q5: 如何添加更多初始数据？
编辑 `backend/init_db.sql` 文件，添加 INSERT 语句，然后重新初始化数据库。

## 📚 进阶文档

- [README.md](./README.md) - 完整项目说明
- [权限系统说明.md](./权限系统说明.md) - 权限详解
- [认证系统说明.md](./认证系统说明.md) - 认证详解

## 💡 下一步

1. ✅ 修改管理员密码
2. ✅ 创建自己的项目
3. ✅ 创建团队成员账号
4. ✅ 开始使用缺陷管理功能
5. ✅ 定制化开发（修改代码适配团队需求）

祝使用愉快！🎉
